
\newpage
### graph

グラフ理論をご存知でしょうか？グラフ理論はあれです、ネットワーク図から、
何らかの指標を抜き出してくるアルゴリズム群みたいなものです。
ほら、全脳解析でコネクティビティが出るじゃないですか。
それを数値化してくれる便利なやつです。
(僕の中ではその程度の認識。ただし、多分あってる。)

pythonでgraph理論でなにかやりたい場合はこうです。

```{frame=single}
pip install bctpy
```
これでbctpyがインストールされました。
公式サイトはこれです。
https://github.com/aestrivex/bctpy
コネクティビティの結果である三角行列を突っ込みたいですね。
突っ込みます。

```{frame=single}
import bct
```

例えばconmatというnumpy三角行列があったとして、こいつを放り込むなら
まずは三角行列を普通の行列にしてやるべきでしょう。
(方向ありの行列なら三角行列にはならないのでそのままでいいです)

```{frame=single}
dcon = conmat + conmat.T
```

global efficiencyを重み付けありで計算したいならこうと思います。

```{frame=single}
bct.efficiency_wei(dcon)
```
すると、スカラー値が算出されます。そう、グラフ理論ってのは、基本
「このネットワークを表すスカラー値を出す」的なやつですよ。
中には、閾値を設けて「これ以上の繋がり具合なら繋がってる」とみなして
計算するやつとかもあります、というかそういうのが主じゃないかな？
この記事見て色々遊んでもいいかもですね。
https://qiita.com/maskot1977/items/e1819b7a1053eb9f7d61
